type Owner @entity {
  id: ID!
  ownedPlots: [Plot!]! @derivedFrom(field: "owner")
}

type Contract @entity {
  id: ID!
  name: String
}

type Plot @entity {
  id: ID!
  owner: Owner!
  purchase: Purchase!
}

type Purchase @entity {
  id: ID!
  plots: [Plot!]! @derivedFrom(field: "purchase")
  buyer: Owner!
  referrer: Owner
  boughtWithCredits: Boolean!
  amount: BigInt!
  timestamp: BigInt!
  block: Int!
  transactionHash: String!
}

type Transfer @entity {
  id: ID!
  value: BigInt!
}